from tasks.sorts.quick_sort.solution import solution

def test_quick_sort():
    # 1. Пустой массив — базовый случай
    assert quick_sort([]) == []

    # 2. Массив из одного элемента — никак не меняется
    assert quick_sort([42]) == [42]

    # 3. Массив с повторяющимися элементами
    arr = [2, -1, 2, -1, 0]
    assert quick_sort(arr) == [-1, -1, 0, 2, 2]

    # 4. Уже отсортированный массив — важен для оценки O(n log n),
    # если случайный выбор пивота, не должен падать в худший случай
    arr = [1, 2, 3, 4, 5]
    assert quick_sort(arr) == [1, 2, 3, 4, 5]

    # 5. Обратно отсортированный массив — классический худший случай,
    # проверяем корректность, не сложность (алгоритм должен всё равно сортировать)
    arr = [5, 4, 3, 2, 1]
    assert quick_sort(arr) == [1, 2, 3, 4, 5]

    # 6. Большой массив для проверки средней сложности O(n log n)
    # (не смотрим время в тесте, но важно, что функция работает на больших данных)
    import random
    arr = [random.randint(-10**9, 10**9) for _ in range(100000)]
    assert quick_sort(arr) == sorted(arr)

test_quick_sort()
