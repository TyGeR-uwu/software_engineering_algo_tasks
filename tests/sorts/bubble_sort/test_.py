from tasks.sorts.bubble_sort.solution import bubble_sort

def test_bubble_sort():
    # 1. Уже отсортированный массив — должен вернуть один снимок
    assert bubble_sort([1, 2, 3, 4]) == [[1, 2, 3, 4]]

    # 2. Обратная сортировка — максимальное количество обменов (худший случай)
    #    Каждый проход уменьшает максимальный элемент справа
    assert bubble_sort([4, 3, 2, 1]) == [
        [3, 2, 1, 4],   # первый проход
        [2, 1, 3, 4],   # второй
        [1, 2, 3, 4],   # третий
    ]

    # 3. Повторы и отрицательные числа
    assert bubble_sort([3, -1, 3, -2]) == [
        [-1, 3, -2, 3],   # первый проход
        [-1, -2, 3, 3],   # второй
        [-2, -1, 3, 3],   # третий
    ]

    # 4. Один обмен на проход — проверка правильной фиксации снимков
    assert bubble_sort([1, 3, 2, 4]) == [
        [1, 2, 3, 4],   # произошёл один обмен, нужен снимок
    ]

    # 5. Большой массив, близкий к отсортированному — проверка средней/худшей сложности
    #    Тест не проверяет само время, но важно, что функция корректно фиксирует снимки.
    assert bubble_sort([1, 2, 4, 3, 5]) == [
        [1, 2, 3, 4, 5],   # один результативный проход
    ]
test_bubble_sort()
